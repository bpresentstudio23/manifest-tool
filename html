<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>顯化卡點檢測工具</title>
  <style>
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      background: #f9f9f9;
      margin: 0;
      padding: 15px;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #5e4ae3;
      margin-bottom: 10px;
    }
    p.desc {
      text-align: center;
      font-size: 14px;
      color: #666;
      margin-bottom: 20px;
    }
    .box {
      background: #fff;
      border-radius: 8px;
      padding: 15px;
      margin: 10px 0;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    label {
      font-weight: bold;
      display: block;
      margin-bottom: 5px;
    }
    select, input[type="number"] {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 14px;
    }
    button {
      display: block;
      width: 100%;
      padding: 12px;
      font-size: 16px;
      background: #5e4ae3;
      color: white;
      border: none;
      border-radius: 6px;
      margin-top: 20px;
      cursor: pointer;
    }
    button:hover { background: #4b3ac5; }
    #result {
      margin-top: 20px;
      padding: 15px;
      background: #fff7e6;
      border-radius: 8px;
      display: none;
    }
    .advice { margin: 10px 0; padding: 10px; border-radius: 6px; }
    .low { background: #ffe0e0; }
    .mid { background: #fff3cd; }
    .high { background: #e0f7e9; }
  </style>
</head>
<body>
  <h1>🌟 顯化卡點檢測</h1>
  <p class="desc">選範疇 → 自我評分 (1–5) → 獲得分析與建議</p>

  <div class="box">
    <label>選擇範疇：</label>
    <select id="category">
      <option value="">請選擇</option>
      <option value="work">工作</option>
      <option value="love">感情</option>
      <option value="money">金錢</option>
    </select>
  </div>

  <div id="questions"></div>
  <button id="analyze">查看分析建議</button>

  <div id="result"></div>

  <script>
    const explanations = {
      work: {
        "信念": "我是否相信自己有能力，並值得理想工作？",
        "情感": "想到工作時，我是期待還是焦慮？",
        "專注": "焦點放在『進步』還是『還沒成功』？",
        "行動": "是否有實際行動：更新履歷、學習技能？",
        "接納": "能否接受職涯需要時間並感謝當下？"
      },
      love: {
        "信念": "我是否相信自己值得被愛？",
        "情感": "想到感情，我感覺喜悅還是孤單？",
        "專注": "焦點放在『吸引合適伴侶』還是『還沒遇到』？",
        "行動": "是否有主動認識新朋友？",
        "接納": "能否享受單身，相信愛情會到來？"
      },
      money: {
        "信念": "我是否相信自己值得擁有財富？",
        "情感": "想到金錢，我是安心還是害怕？",
        "專注": "焦點放在『正在變富』還是『錢不夠』？",
        "行動": "是否有記帳、理財、創造收入？",
        "接納": "能否感謝現有金錢，相信會增加？"
      }
    };

    const suggestions = {
      work: {
        "信念": "每天提醒自己：『我值得理想工作。』",
        "情感": "每天想像自己在理想工作中的感覺。",
        "專注": "寫下每天的進步，聚焦在前進。",
        "行動": "每週設定一個小行動：投履歷、學技能。",
        "接納": "告訴自己：職涯是長跑，感謝當下。"
      },
      love: {
        "信念": "每天肯定語：『我值得被愛。』",
        "情感": "想像自己在幸福關係中，感受溫暖。",
        "專注": "專注於自我成長與生活樂趣。",
        "行動": "每週參加一次社交活動。",
        "接納": "享受單身，相信愛情會到來。"
      },
      money: {
        "信念": "每天肯定語：『金錢流向我。』",
        "情感": "每天感謝現有金錢與資源。",
        "專注": "寫下每天的收穫，聚焦變富。",
        "行動": "開始記帳、設定儲蓄或學投資。",
        "接納": "提醒自己：財富正在到來。"
      }
    };

    const categorySelect = document.getElementById("category");
    const questionsDiv = document.getElementById("questions");
    const resultDiv = document.getElementById("result");
    const analyzeBtn = document.getElementById("analyze");

    categorySelect.addEventListener("change", () => {
      const category = categorySelect.value;
      questionsDiv.innerHTML = "";
      if (!category) return;
      for (const key in explanations[category]) {
        questionsDiv.innerHTML += `
          <div class="box">
            <label>${key}</label>
            <small>${explanations[category][key]}</small>
            <input type="number" id="${key}" min="1" max="5" placeholder="1~5">
          </div>
        `;
      }
    });

    analyzeBtn.addEventListener("click", () => {
      const category = categorySelect.value;
      if (!category) { alert("請先選擇範疇"); return; }

      let output = `<h2>分析結果</h2>`;
      for (const key in explanations[category]) {
        const score = parseInt(document.getElementById(key).value) || 0;
        let level = score <= 2 ? "low" : score === 3 ? "mid" : "high";
        let msg = score <= 2 ? "⚠️ 卡點明顯" : score === 3 ? "🔶 需要更多練習" : "✅ 狀態良好";
        output += `<div class="advice ${level}">
          <strong>${key} (${score}/5)</strong>：${msg}<br>${suggestions[category][key]}
        </div>`;
      }
      resultDiv.innerHTML = output;
      resultDiv.style.display = "block";
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    });
  </script>
</body>
</html>